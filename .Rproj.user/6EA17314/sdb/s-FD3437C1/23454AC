{
    "collab_server" : "",
    "contents" : "#load required libraries\nlibrary(RCurl)\nlibrary(httr)\n\n#search by molecular formula\nsearchByFormula <- function(formula, returnType = \"json\") {\n  \n  print(paste0('compound.metaData=q=\\'name==\"molecular formula\" and value==\"', formula, '\"\\''))\n  \n  #GET request\n  if(returnType == \"json\") {\n    \n    #return as json\n    req <- GET(MONASEARCH,\n               add_headers(JSONCONTENT),\n               query = list(query = paste0('compound.metaData=q=\\'name==\"molecular formula\" and value==\"', formula, '\"\\'')))\n    \n  } \n  \n  return(content(req))\n  \n}\n\n\n#search by precursor\nsearchByExactMass <- function(exactMass, error = 0.01, returnType = \"json\") {\n  \n  #get boundaries\n  lower <- exactMass - error\n  upper <- exactMass + error\n  \n  #GET request\n  if(returnType == \"json\") {\n    \n    #return as json\n    req <- GET(MONASEARCH,\n               add_headers(JSONCONTENT),\n               query = list(query = paste0('compound.metaData=q=\\'name==\\\"total exact mass\\\" and value >= ', lower, ' and value <= ', upper, '\\'')))\n    \n  } \n  \n  return(content(req))\n  \n}\n\n\n\n#search by precursor and adduct type\nsearchByPrecursor <- function(precursor, error = 0.01, precursorType = \"[M+H]+\",returnType = \"json\") {\n  \n  #get boundaries\n  lower <- precursor - error\n  upper <- precursor + error\n  \n  #GET request\n  if(returnType == \"json\") {\n    \n    #return as json\n    req <- GET(MONASEARCH,\n               add_headers(JSONCONTENT),\n               query = list(query = paste0('metaData=q=\\'name==\\\"precursor m/z\\\" and value >= ', lower, ' and value <= ', upper, '\\' and (metaData=q=\\'name==\\\"precursor type\\\" and value == \\\"', precursorType, '\\\"\\')')))\n    \n  }\n  \n  return(content(req))\n  \n}\n",
    "created" : 1505367780412.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3785887970",
    "id" : "23454AC",
    "lastKnownWriteTime" : 1505380920,
    "last_content_update" : 1505380920729,
    "path" : "E:/Bio-Chemoinformatics/Scripts/R/RaMoNA/R/searchByFormula.R",
    "project_path" : "R/searchByFormula.R",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}